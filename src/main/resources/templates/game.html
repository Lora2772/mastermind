<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body th:object="${currentGame}">
<div style="color:slategrey">
    Correct answer is: <span th:text="${currentGame.answer}"></span>
</div>
<h3>
    You have <span th:text="${currentGame.maxAttempts - currentGame.attempts}"></span> attempts left.
</h3>
<form th:action="@{|/${currentGame.gameId}/guess|}" method="post"> Enter your guess here:
    <input name="input" maxlength="4" pattern="\d{4}" required>
    <button type="submit">Submit Guess</button>
</form>

<span th:text="${popupMessage}" th:style="'color:' + ${colorStyle}"></span>

<h4>History</h4>
<table border="1" cellpadding="4" cellspacing="0">
    <tr><th>#</th><th>Guess</th><th>Correct Numbers</th><th>Correct Locations</th></tr>
    <tr th:each="g, st : ${currentGame.guessHistory}">
        <td th:text="${st.index + 1}"></td>
        <td th:text="${g.input}"></td>
        <td th:text="${g.correctNumbers}"></td>
        <td th:text="${g.correctLocations}"></td>
    </tr>
</table>

<br>
<form th:action="@{/}" method="get">
    <button type="submit">Back to Home</button>
</form>
<form th:action="@{|/${currentGame.gameId}/restart|}" method="post">
    <button type="submit">Abandon and Restart</button>
</form>
</body>
</html>